Configuration of postfix to send mails using gmail.
update and upgrade all the packages
 
sudo apt-get update && sudo apt-get upgrade
 
Install Postfix and the libsasl2-modules package
 
    sudo apt-get install libsasl2-modules postfix
 
Select internet site in the prompt and enter the FQDN as <username>@localhost.com

 
Enable the less secure app access on the gmail account you are going to use to send mails.

 Configure the Postfix Relay Server
    5.1    open file /etc/postfix/main.cf and modify relayhost
 
sudo vi     /etc/postfix/main.cf  
relayhost = [smtp.gmail.com]:587
 
    5.2    At the end of the file, add the following parameters to enable authentication
 
        # Enable SASL authentication
        smtp_sasl_auth_enable = yes
        # Disallow methods that allow anonymous authentication
        smtp_sasl_security_options = noanonymous
        # Location of sasl_passwd
        smtp_sasl_password_maps = hash:/etc/postfix/sasl/sasl_passwd
        # Enable STARTTLS encryption
        smtp_tls_security_level = encrypt
        # Location of CA certificates
        smtp_tls_CAfile = /etc/ssl/certs/ca-certificates.crt
 
5.3    Save and close the file
       
 
Add Gmail Username and Password to Postfix
    6.1     Open or create the /etc/postfix/sasl/sasl_passwd file and add the following
        
        [smtp.gmail.com]:587 username@gmail.com:password
 
6.2    Create the hash db file for Postfix by running the postmap command
 
sudo postmap /etc/postfix/sasl/sasl_passwd
        
Secure Your Postfix Hash Database and Email Password Files
 
    sudo chown root:root /etc/postfix/sasl/sasl_passwd /etc/postfix/sasl/sasl_passwd.db
    sudo chmod 0600 /etc/postfix/sasl/sasl_passwd /etc/postfix/sasl/sasl_passwd.db
 
Restart Postfix 
        sudo systemctl restart postfix   (For ubuntu 16.04)
        sudo service postfix restart       (For ubuntu 14.04)
